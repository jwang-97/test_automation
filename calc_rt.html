<head>
	<title>IDEAS Report</title>
	{% block styles%}
	<link href="http://getbootstrap.com/examples/dashboard/dashboard.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.1.1.min.js "></script>
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	{% endblock %}
</head>

{% block content %}
<div class="panel panel-default" style="margin-left:60px;margin-top:60px;margin-right:60px">
	<div class="panel-heading" role="tab" id="autocasediffheadingOne">
		<div>
			<h2 style="color:indigo;">LIB CALC of {{ calcjob.track_number }}</h2>
		</div>
	</div>
</div>

<div class="container-fluid">
	<div class="row">
		<!-- <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"> -->
		<div style="margin-left:60px;margin-right:60px;">
			<a name="accordion"><h3 class="page-header">1 OVERVIEW</h3></a>
			<div style='margin-top:30px;'><h3 id="compare">1.1 Case number comparison: </h3></div>
			<div class="table-responsive">
				<table class="table table-striped" border="1" frame="hsides" rules="groups" align="center">
					<thead>
						<tr>
							<th colspan="5">{{ calcjob.track_number }}</th>
							<th colspan="4">{{ calcjob.benchmark }}</th>
						</tr>
					</thead>
					<thead>
						<tr>
							<th>Calculation method</th>
							<th>Normal</th>
							<th>Change time</th>
							<th>Restart</th>
							<th>Cost Hour</th>
							<th>Normal</th>
							<th>Change time</th>
							<th>Restart</th>
							<th>Cost Hour</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>1CPU</td>
							{% if taskcase.cpu1_number != benchmarkcase.cpu1_number %}
							<td bgcolor="red">{{taskcase.cpu1_number}}</td>
							{% else %}
							<td>{{taskcase.cpu1_number}}</td>
							{% endif %} {% if taskcase.cpu1_changetime != benchmarkcase.cpu1_changetime %}
							<td bgcolor="red">{{taskcase.cpu1_changetime}}</td>
							{% else %}
							<td>{{taskcase.cpu1_changetime}}</td>
							{% endif %} {% if taskcase.cpu1_restart != benchmarkcase.cpu1_restart %}
							<td bgcolor="red">{{taskcase.cpu1_restart}}</td>
							{% else %}
							<td>{{taskcase.cpu1_restart}}</td>
							{% endif %} {% if taskcase.cpu1_cost > benchmarkcase.cpu1_cost %}
							<td bgcolor="red">{{taskcase.cpu1_cost}}</td>
							{% else %}
							<td>{{taskcase.cpu1_cost}}</td>
							{% endif %}

							<td>{{benchmarkcase.cpu1_number}}</td>
							<td>{{benchmarkcase.cpu1_changetime}}</td>
							<td>{{benchmarkcase.cpu1_restart}}</td>
							<td>{{benchmarkcase.cpu1_cost}}</td>
						</tr>
						<tr>
							<td>4CPU</td>
							{% if taskcase.cpu4_number != benchmarkcase.cpu4_number %}
							<td bgcolor="red">{{taskcase.cpu4_number}}</td>
							{% else %}
							<td>{{taskcase.cpu4_number}}</td>
							{% endif %} {% if taskcase.cpu4_changetime != benchmarkcase.cpu4_changetime %}
							<td bgcolor="red">{{taskcase.cpu4_changetime}}</td>
							{% else %}
							<td>{{taskcase.cpu4_changetime}}</td>
							{% endif %} {% if taskcase.cpu4_restart != benchmarkcase.cpu4_restart %}
							<td bgcolor="red">{{taskcase.cpu4_restart}}</td>
							{% else %}
							<td>{{taskcase.cpu4_restart}}</td>
							{% endif %} {% if taskcase.cpu4_cost > benchmarkcase.cpu4_cost %}
							<td bgcolor="red">{{taskcase.cpu4_cost}}</td>
							{% else %}
							<td>{{taskcase.cpu4_cost}}</td>
							{% endif %}

							<td>{{benchmarkcase.cpu4_number}}</td>
							<td>{{benchmarkcase.cpu4_changetime}}</td>
							<td>{{benchmarkcase.cpu4_restart}}</td>
							<td>{{benchmarkcase.cpu4_cost}}</td>
						</tr>
						<tr>
							<td>4CPUCheck1</td>
							{% if taskcase.cpu4check1_number != benchmarkcase.cpu4check1_number %}
							<td bgcolor="red">{{taskcase.cpu4check1_number}}</td>
							{% else %}
							<td>{{taskcase.cpu4check1_number}}</td>
							{% endif %} {% if taskcase.cpu4check1_changetime != benchmarkcase.cpu4check1_changetime %}
							<td bgcolor="red">{{taskcase.cpu4check1_changetime}}</td>
							{% else %}
							<td>{{taskcase.cpu4check1_changetime}}</td>
							{% endif %} {% if taskcase.cpu4check1_restart != benchmarkcase.cpu4check1_restart %}
							<td bgcolor="red">{{taskcase.cpu4check1_restart}}</td>
							{% else %}
							<td>{{taskcase.cpu4check1_restart}}</td>
							{% endif %} {% if taskcase.cpu4check1_cost > benchmarkcase.cpu4check1_cost %}
							<td bgcolor="red">{{taskcase.cpu4check1_cost}}</td>
							{% else %}
							<td>{{taskcase.cpu4check1_cost}}</td>
							{% endif %}

							<td>{{benchmarkcase.cpu4check1_number}}</td>
							<td>{{benchmarkcase.cpu4check1_changetime}}</td>
							<td>{{benchmarkcase.cpu4check1_restart}}</td>
							<td>{{benchmarkcase.cpu4check1_cost}}</td>
						</tr>
						<tr>
							<td>Total</td>
							{% if taskcase.total_case != benchmarkcase.total_case %}
							<td bgcolor="red">{{taskcase.total_case}}</td>
							{% else %}
							<td>{{taskcase.total_case}}</td>
							{% endif %} {% if taskcase.total_changetime != benchmarkcase.total_changetime %}
							<td bgcolor="red">{{taskcase.total_changetime}}</td>
							{% else %}
							<td>{{taskcase.total_changetime}}</td>
							{% endif %} {% if taskcase.total_restart != benchmarkcase.total_restart %}
							<td bgcolor="red">{{taskcase.total_restart}}</td>
							{% else %}
							<td>{{taskcase.total_restart}}</td>
							{% endif %} {% if taskcase.total_cost > benchmarkcase.total_cost %}
							<td bgcolor="red">{{taskcase.total_cost}}</td>
							{% else %}
							<td>{{taskcase.total_cost}}</td>
							{% endif %}

							<td>{{benchmarkcase.total_case}}</td>
							<td>{{benchmarkcase.total_changetime}}</td>
							<td>{{benchmarkcase.total_restart}}</td>
							<td>{{benchmarkcase.total_cost}}</td>
						</tr>
					</tbody>				
				</table>
				<div style='margin-top:60px;'><h3 id="problem">1.2 Task problem overview</h3></div>
				<table class="table table-striped" border="1" frame="hsides" rules="groups" align="center">
					<thead>
						<tr>
							<th></th>
							<th>core</th>
							<th>abnormal</th>
							<th>no file</th>
							<th>diff</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>IDEAS LIB CALC</td>
							<td><a href="#coreoverview">{{libsum.libcore}} </a></td>
							<td>{{libsum.libabnormal}}</td>
							<td>{{libsum.libnofile}}</td>
							<td>{{difflist|length + diffselflist|length}}</td>
						</tr>
					</tbody>
				</table>			
			</div>

			<a name="IDEASLIB"><h3 class="page-header">2 IDEAS LIB CALC</h1></a>
			<div class="panel-group" role="tablist" aria-multiselectable="true">
				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="headingOne">
						<h4 class="panel-title">
							<a role="button" name="coreoverview" data-toggle="collapse" data-parent="#accordion" href="#collapsecore" aria-expanded="true"
							 aria-controls="collapsecore">
								<h3 id="corelist">2.1 Core: {{libsum.libcore}} core </h3>
							</a>
						</h4>
					</div>

					<div id="collapsecore" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
						<div class="panel-body">
							{% for core in corelist %}
							<pre  style="line-height:0.5;"><h4 id="singalcore">2.1.{{loop.index}}. CORE - {{loop.index}}</h4>
								<h5> -1- core main info: {{core.coreexe}} {{core.corefunction}} </h5>
								<h5> -2- core case :</h5>
								{% for coresingalcase in core.corecase %}
								<div>         {{coresingalcase}} </div>
								{% endfor %}
								<h5> -3- core original info: </h5>
								{% for coreline in core.coreinfo %}
								<div>         {{coreline}}</div>
								{% endfor %}
							</pre>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>

			<div class="panel-group" role="tablist" aria-multiselectable="true">
				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="errorheadingOne">
						<h4 class="panel-title">
							<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseerror" aria-expanded="true" aria-controls="collapseerror">
								<h3 id="errorlist">2.2 Abnormal: {{libsum.libabnormal}} abnormal </h3>
							</a>
						</h4>
					</div>
					<div id="collapseerror" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
						<div class="panel-body">
							{% for error in errorstrs %}
							<pre  style="line-height:0.5;"><h4 id="singalerror"> 2.2.{{loop.index}}. Abnormal - {{loop.index}} : {{error.errorfunctionname}} </h4>
								<h5>   -1- Error Example : {{error.totalerrorname[0]}}</h5>
								<h5>   -2- Abnormal Case :</h5>
								{% for coresingalcase in error.errorcase %}
								<div>               {{coresingalcase}}</div>
								{% endfor %}
							</pre> 
							{% endfor %}
						</div>
					</div>
				</div>
			</div>

			<div class="panel-group" role="tablist" aria-multiselectable="true">
				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="nofileheadingOne">
						<h4 class="panel-title">
							<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsenofile" aria-expanded="true" aria-controls="collapsenofile">
								<h3 id="nofilelist">2.3 No Summary: {{libsum.libnofile}} no summary cases</h3>
							</a>
						</h4>
					</div>
					<div id="collapsenofile" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
						<div class="panel-body">
							<pre  style="line-height:0.5;"><h4 id="nosummary"> 2.3.1. No Summary Case</h4>
							{% for nofile in nosummary %}
								{% for nofilecase in nofile.nosummarycase %}
								<div>               {{nofilecase}}</div>
								{% endfor %}
							{% endfor %}
							</pre>
							<pre  style="line-height:0.5;"><h4 id="nopicture"> 2.3.2. No Picture Case</h4>
							{% for nofile in nopicture %}
							<div>               {{nofile}}</div>
							{% endfor %}
							</pre>
						</div>
					</div>
				</div>
			</div>

			<div class="panel-group" role="tablist" aria-multiselectable="true">
				<div class="panel panel-default">
					<div class="panel-heading" role="tab" id="diffheadingOne">
						<h4 class="panel-title">
							<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsediff" aria-expanded="true" aria-controls="collapsediff">
								<h3 id="difflist">2.4 Diff Case: Benchmark diff - {{difflist|length}}. Diff self - {{diffselflist|length}}</h3>
							</a>
						</h4>
					</div>
					<div id="collapsediff" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
						<div class="panel-body">
							<pre  style="line-height:0.5;"><h4 id="singaldiff"> 2.4.1. Benchmark Diff</h4>
								{% if  difflist|length > 0 %}
								<h5>          Diff Case : </h5>
									{% for diffsingalfile in difflist %}
										{% for diffsingalcase in diffsingalfile.diffcases %}
										<div>               {{diffsingalcase}}</div>
										{% endfor %}
									{% endfor %} 
								{% endif %}
							</pre>
							<pre  style="line-height:0.5;"><h4 id="singaldiffself"> 2.4.2. Self Diff</h4>
								{% if  diffselflist|length > 0 %}
									<h5>          Diff Case : </h5>
									{% for diffselffile in diffselflist %}
										{% for diffselfcase in diffselffile.diffcases %}
										<div>               {{diffselfcase}}</div>
										{% endfor %}
									{% endfor %} 
								{% endif %}
							</pre>
						</div>
					</div>
				</div>
			</div>		
		</div>
	</div>
</div>
{% endblock %}
